
Text: "Professor McGonagall teaches at Hogwarts."
[PRECISION-DEFENSE] üõ°Ô∏è Layer 1: Entity Quality Filter
  Original entities: 1
  Filtered entities: 1
  Removed: 0 (0.0%)
  Removal reasons:
    - Low confidence: 0
    - Too short: 0
    - Blocked token: 0
    - No capitalization: 0
    - Invalid characters: 0
    - Invalid date: 0
    - Too generic: 0
    - Strict mode: 0
[COREF] Found 0 coreference links
[COREF] Found 0 coref-enhanced relations (filtered to 0)
[NarrativeRelations] Using 48 static + 0 dynamic patterns = 48 total
[APPOS-FILTER] Total pred-obj groups: 0
[APPOS-FILTER] Relations after filter: 0
[DEDUP-ENTRY] Relations entering deduplication:
[DEDUP-EXIT] Relations after deduplication:
[PRECISION-DEFENSE] üõ°Ô∏è Layer 3: Relation Deduplication
  Original relations: 0
  Deduplicated relations: 0
  Removed duplicates: 0 (NaN%)
  Duplicate groups: 0
  Avg group size: 0.0
  Max group size: 0
[PRECISION-DEFENSE] üõ°Ô∏è Layer 3: Confidence Threshold Filter
  Threshold: 0.7
  Before: 0 relations
  After: 0 relations
  Removed: 0 (NaN%)
[EID-REGISTRY] Loaded 346 entities from ./data/eid-registry.json
[ALIAS-REGISTRY] Loaded 462 aliases from ./data/alias-registry.json
[ORCHESTRATOR] Resolved "Hogwarts" ‚Üí EID 269 (method: exact, confidence: 1.00)
[ORCHESTRATOR] Populating entity aliases from coref links and alias registry
  ‚ùå McGonagall: not found
  ‚ùå Hogwarts: expected PLACE, got ORG

Text: "King Aragorn ruled Gondor from Minas Tirith."
[RELATIONS-DEBUG] Created relation from dependencies
  Predicate: rules
  Subject: "b5698422-0781-42de-a6f3-5a4945a3019e" (type: string)
  Object: "9c3c6d32-1aa6-4551-8538-95169fea2a12" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[RELATIONS-DEBUG] Created relation from dependencies
  Predicate: rules
  Subject: "b5698422-0781-42de-a6f3-5a4945a3019e" (type: string)
  Object: "9c3c6d32-1aa6-4551-8538-95169fea2a12" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[RELATIONS-DEBUG] Created relation from regex
  Predicate: rules
  Subject: "b5698422-0781-42de-a6f3-5a4945a3019e" (type: string)
  Object: "9c3c6d32-1aa6-4551-8538-95169fea2a12" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[PRECISION-DEFENSE] üõ°Ô∏è Layer 1: Entity Quality Filter
  Original entities: 3
  Filtered entities: 3
  Removed: 0 (0.0%)
  Removal reasons:
    - Low confidence: 0
    - Too short: 0
    - Blocked token: 0
    - No capitalization: 0
    - Invalid characters: 0
    - Invalid date: 0
    - Too generic: 0
    - Strict mode: 0
[COREF] Found 0 coreference links
[RELATIONS-DEBUG] Created relation from dependencies
  Predicate: rules
  Subject: "b5698422-0781-42de-a6f3-5a4945a3019e" (type: string)
  Object: "9c3c6d32-1aa6-4551-8538-95169fea2a12" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[RELATIONS-DEBUG] Created relation from dependencies
  Predicate: rules
  Subject: "b5698422-0781-42de-a6f3-5a4945a3019e" (type: string)
  Object: "9c3c6d32-1aa6-4551-8538-95169fea2a12" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[RELATIONS-DEBUG] Created relation from regex
  Predicate: rules
  Subject: "b5698422-0781-42de-a6f3-5a4945a3019e" (type: string)
  Object: "9c3c6d32-1aa6-4551-8538-95169fea2a12" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[COREF] Found 1 coref-enhanced relations (filtered to 1)
[COREF] King Aragorn --[rules]--> Gondor
[NarrativeRelations] Using 48 static + 0 dynamic patterns = 48 total
[APPOS-FILTER-ENTRY] Relation entering filter:
  Predicate: rules
  Subject on entry: "b5698422-0781-42de-a6f3-5a4945a3019e"
  Object on entry: "9c3c6d32-1aa6-4551-8538-95169fea2a12"
  Subject type: string
[APPOS-FILTER-ENTRY] Relation entering filter:
  Predicate: rules
  Subject on entry: "b5698422-0781-42de-a6f3-5a4945a3019e"
  Object on entry: "9c3c6d32-1aa6-4551-8538-95169fea2a12"
  Subject type: string
[APPOS-FILTER-ENTRY] Relation entering filter:
  Predicate: rules
  Subject on entry: "b5698422-0781-42de-a6f3-5a4945a3019e"
  Object on entry: "9c3c6d32-1aa6-4551-8538-95169fea2a12"
  Subject type: string
[APPOS-FILTER] Total pred-obj groups: 1
[APPOS-FILTER]   Group rules::9c3c6d32-1aa6-4551-8538-95169fea2a12 has 3 subjects
[APPOS-FILTER] Checking rules::9c3c6d32-1aa6-4551-8538-95169fea2a12 with 3 subjects (obj="Gondor"):
  - king aragorn at position 0
  - king aragorn at position 0
  - king aragorn at position 0
[APPOS-FILTER]   king aragorn at 0 is duplicate - SKIP
[APPOS-FILTER]   king aragorn at 0 is duplicate - SKIP
[APPOS-FILTER]   isCoordination: true
[APPOS-FILTER]   Keeping all 3 subjects
[APPOS-FILTER] Relations after filter: 3
[DEDUP-ENTRY] Relations entering deduplication:
  1. b5698422-0781-42de-a6f3-5a4945a3019e ‚Üí rules ‚Üí 9c3c6d32-1aa6-4551-8538-95169fea2a12 (conf: 0.9)
  2. b5698422-0781-42de-a6f3-5a4945a3019e ‚Üí rules ‚Üí 9c3c6d32-1aa6-4551-8538-95169fea2a12 (conf: 0.9)
  3. b5698422-0781-42de-a6f3-5a4945a3019e ‚Üí rules ‚Üí 9c3c6d32-1aa6-4551-8538-95169fea2a12 (conf: 0.85)
[DEDUP-EXIT] Relations after deduplication:
  1. b5698422-0781-42de-a6f3-5a4945a3019e ‚Üí rules ‚Üí 9c3c6d32-1aa6-4551-8538-95169fea2a12 (conf: 0.9)
[PRECISION-DEFENSE] üõ°Ô∏è Layer 3: Relation Deduplication
  Original relations: 3
  Deduplicated relations: 1
  Removed duplicates: 2 (66.7%)
  Duplicate groups: 1
  Avg group size: 3.0
  Max group size: 3
[PRECISION-DEFENSE] üõ°Ô∏è Layer 3: Confidence Threshold Filter
  Threshold: 0.7
  Before: 1 relations
  After: 1 relations
  Removed: 0 (0.0%)
[ALIAS-REGISTRY] New alias: "King Aragorn" ‚Üí AID=463 ‚Üí EID=233 (confidence: 0.90)
[ORCHESTRATOR] Resolved "King Aragorn" ‚Üí EID 233 (method: title-variation, confidence: 0.90)
[ORCHESTRATOR] Resolved "Gondor" ‚Üí EID 273 (method: exact, confidence: 1.00)
[EID-REGISTRY] New entity: "Minas Tirith" ‚Üí EID=347
[ALIAS-REGISTRY] New alias: "Minas Tirith" ‚Üí AID=464 ‚Üí EID=347 (confidence: 1.00)
[ORCHESTRATOR] Populating entity aliases from coref links and alias registry
[ORCHESTRATOR] Entity "King Aragorn" has 2 aliases: [Aragorn, Prince Aragorn]
  ‚úÖ Aragorn: PERSON
  ‚úÖ Gondor: PLACE
  ‚úÖ Minas Tirith: PLACE

Text: "The Fellowship journeyed to Mordor."
[RELATIONS-DEBUG] Created relation from dependencies
  Predicate: traveled_to
  Subject: "b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47" (type: string)
  Object: "1ba00791-a8e5-4928-9b7b-3a06c8bd2809" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[RELATIONS-DEBUG] Created relation from dependencies
  Predicate: traveled_to
  Subject: "b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47" (type: string)
  Object: "1ba00791-a8e5-4928-9b7b-3a06c8bd2809" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[RELATIONS-DEBUG] Created relation from regex
  Predicate: traveled_to
  Subject: "b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47" (type: string)
  Object: "1ba00791-a8e5-4928-9b7b-3a06c8bd2809" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[PRECISION-DEFENSE] üõ°Ô∏è Layer 1: Entity Quality Filter
  Original entities: 2
  Filtered entities: 2
  Removed: 0 (0.0%)
  Removal reasons:
    - Low confidence: 0
    - Too short: 0
    - Blocked token: 0
    - No capitalization: 0
    - Invalid characters: 0
    - Invalid date: 0
    - Too generic: 0
    - Strict mode: 0
[COREF] Found 0 coreference links
[RELATIONS-DEBUG] Created relation from dependencies
  Predicate: traveled_to
  Subject: "b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47" (type: string)
  Object: "1ba00791-a8e5-4928-9b7b-3a06c8bd2809" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[RELATIONS-DEBUG] Created relation from dependencies
  Predicate: traveled_to
  Subject: "b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47" (type: string)
  Object: "1ba00791-a8e5-4928-9b7b-3a06c8bd2809" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[RELATIONS-DEBUG] Created relation from regex
  Predicate: traveled_to
  Subject: "b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47" (type: string)
  Object: "1ba00791-a8e5-4928-9b7b-3a06c8bd2809" (type: string)
  Subject is empty string: false
  Subject is undefined: false
  Subject is null: false
[COREF] Found 1 coref-enhanced relations (filtered to 1)
[COREF] Fellowship --[traveled_to]--> Mordor
[NarrativeRelations] Using 48 static + 0 dynamic patterns = 48 total
[APPOS-FILTER-ENTRY] Relation entering filter:
  Predicate: traveled_to
  Subject on entry: "b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47"
  Object on entry: "1ba00791-a8e5-4928-9b7b-3a06c8bd2809"
  Subject type: string
[APPOS-FILTER-ENTRY] Relation entering filter:
  Predicate: traveled_to
  Subject on entry: "b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47"
  Object on entry: "1ba00791-a8e5-4928-9b7b-3a06c8bd2809"
  Subject type: string
[APPOS-FILTER] Total pred-obj groups: 1
[APPOS-FILTER]   Group traveled_to::1ba00791-a8e5-4928-9b7b-3a06c8bd2809 has 2 subjects
[APPOS-FILTER] Checking traveled_to::1ba00791-a8e5-4928-9b7b-3a06c8bd2809 with 2 subjects (obj="Mordor"):
  - fellowship at position 0
  - fellowship at position 0
[APPOS-FILTER]   fellowship at 0 is duplicate - SKIP
[APPOS-FILTER]   isCoordination: true
[APPOS-FILTER]   Keeping all 2 subjects
[APPOS-FILTER] Relations after filter: 2
[DEDUP-ENTRY] Relations entering deduplication:
  1. b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47 ‚Üí traveled_to ‚Üí 1ba00791-a8e5-4928-9b7b-3a06c8bd2809 (conf: 0.9)
  2. b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47 ‚Üí traveled_to ‚Üí 1ba00791-a8e5-4928-9b7b-3a06c8bd2809 (conf: 0.9)
[DEDUP-EXIT] Relations after deduplication:
  1. b1b1bd28-bcd6-46ed-9f65-f24a3bb2fb47 ‚Üí traveled_to ‚Üí 1ba00791-a8e5-4928-9b7b-3a06c8bd2809 (conf: 0.9)
[PRECISION-DEFENSE] üõ°Ô∏è Layer 3: Relation Deduplication
  Original relations: 2
  Deduplicated relations: 1
  Removed duplicates: 1 (50.0%)
  Duplicate groups: 1
  Avg group size: 2.0
  Max group size: 2
[PRECISION-DEFENSE] üõ°Ô∏è Layer 3: Confidence Threshold Filter
  Threshold: 0.7
  Before: 1 relations
  After: 1 relations
  Removed: 0 (0.0%)
[ORCHESTRATOR] Resolved "Mordor" ‚Üí EID 220 (method: exact, confidence: 1.00)
[EID-REGISTRY] New entity: "Fellowship" ‚Üí EID=348
[ALIAS-REGISTRY] New alias: "Fellowship" ‚Üí AID=465 ‚Üí EID=348 (confidence: 1.00)
[ORCHESTRATOR] Populating entity aliases from coref links and alias registry
  ‚úÖ Fellowship: ORG
  ‚úÖ Mordor: PLACE

‚ùå Entity type test failed: Entity type test failed
[EID-REGISTRY] Saved 348 entities to ./data/eid-registry.json
[ALIAS-REGISTRY] Saved 465 aliases to ./data/alias-registry.json
